<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profile - Student Connect</title>
  <link rel="stylesheet" href="styles.css">
  <script>
    // Check if the user is signed in when the page loads
    window.onload = function() {
      const userName = localStorage.getItem("userName");
      
      // If no userName is found, redirect to the sign-in page
      if (!userName) {
        alert("Please sign in to view your profile.");
        window.location.href = "signin.html"; // Redirect to sign-in page
      } else {
        // Display the profile details
        document.getElementById("profileName").innerText = userName;
        document.getElementById("profileCourse").innerText = localStorage.getItem("userCourse");
        document.getElementById("profileUniversity").innerText = localStorage.getItem("userUniversity");
      }
    };
  </script>
</head>
<body>
    <div id="navigation-placeholder"></div>
    
    <div class="container main-content">
        <h1>Your Profile</h1>
        
        <div class="card">
            <h2>Welcome, <span class="username">User</span>!</h2>
            
            <form id="profile-form">
                <div class="form-group">
                    <label for="profile-name">Full Name</label>
                    <input type="text" id="profile-name" class="form-control">
                </div>
                <div class="form-group">
                    <label for="profile-email">Email</label>
                    <input type="email" id="profile-email" class="form-control">
                </div>
                <div class="form-group">
                    <label for="profile-major">Major/Program</label>
                    <input type="text" id="profile-major" class="form-control">
                </div>
                <div class="form-group">
                    <label for="profile-year">Year of Study</label>
                    <select id="profile-year" class="form-control">
                        <option value="1">First Year</option>
                        <option value="2">Second Year</option>
                        <option value="3">Third Year</option>
                        <option value="4">Fourth Year</option>
                        <option value="5">Graduate</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="profile-bio">Bio</label>
                    <textarea id="profile-bio" class="form-control"></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Save Profile</button>
            </form>
        </div>
        
        <div class="card">
            <h2>Your Joined Events</h2>
            <div id="joined-events" class="events-list">
                <!-- Events will be dynamically inserted here -->
                <p class="no-events">You haven't joined any events yet.</p>
            </div>
        </div>
    </div>

    <script src="../assets/js/navigation.js" defer></script>
    <script src="../assets/js/auth.js" defer></script>
    <script src="../assets/js/profile.js" defer></script>
</body>
</html>
